/* Basic Reset and Body Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Roboto', sans-serif;
    background-color: #f8f9fa; /* Lighter gray background */
    color: #333;
    display: flex;
    height: 100vh;
    overflow: hidden;
}

/* Main Dashboard Container */
.dashboard-container {
    display: flex;
    width: 100%;
    height: 100vh;
}

/* Sidebar Styles */
.sidebar {
    width: 260px;
    flex-shrink: 0;
    background-color: #1a233a;
    color: #aeb2b7;
    display: flex;
    flex-direction: column;
    padding: 20px 15px;
}
.sidebar-header {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    margin-bottom: 20px;
}
.sidebar-logo .material-icons-outlined { font-size: 40px; color: #4d82f5; }
.sidebar-title { margin-left: 15px; }
.sidebar-title h4 { color: #ffffff; font-weight: 500; margin: 0; }
.sidebar-title span { font-size: 0.8rem; }
.sidebar-links { list-style: none; flex-grow: 1; }
.sidebar-links li a {
    display: flex;
    align-items: center;
    color: #aeb2b7;
    text-decoration: none;
    padding: 15px;
    margin-bottom: 5px;
    border-radius: 8px;
    transition: background-color 0.3s ease, color 0.3s ease;
}
.sidebar-links li a .material-icons-outlined { margin-right: 15px; font-size: 22px; }
.sidebar-links li a:hover { background-color: #2c3a5c; color: #ffffff; }
.sidebar-links li a.active { background-color: #0d6efd; color: #ffffff; }
.sidebar-footer { margin-top: auto; padding: 0 15px 10px; }
.hotline-text { font-size: 0.8rem; color: #aeb2b7; }
.hotline-text strong { display: block; color: #ffffff; font-weight: 500; font-size: 1.1rem; }


/* Main Content Styles */
.main-content {
    flex-grow: 1;
    padding: 25px;
    overflow-y: auto;
    height: 100vh;
}

/* Main Header Styles */
.main-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}
.header-title h1 { font-size: 1.8rem; font-weight: 500; }
.header-title p { color: #6c757d; margin-top: 5px; font-size: 1rem; }
.header-status { display: flex; align-items: center; gap: 8px; color: #6c757d; }
.header-status .status-dot { width: 8px; height: 8px; background-color: #4caf50; border-radius: 50%; }
.header-status .last-updated { margin-left: 15px; }

/* General Widget Styles */
.widget {
    background-color: #ffffff;
    padding: 25px;
    border-radius: 12px;
    border: 1px solid #eef0f3;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
}
.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
}
.widget-header h4 { font-size: 1.1rem; font-weight: 500; margin: 0; }
.widget-header p { font-size: 0.9rem; color: #6c757d; margin: 4px 0 0; }
.widget-header > div:first-child { margin-right: auto; }

/* Overview Grid Layout */
.overview-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 25px;
    margin-bottom: 25px;
}
.overview-col-left, .overview-col-right {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

/* Safety Index Widget */
.live-data-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: none;
    border: 1px solid #dee2e6;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
}
.live-data-btn .live-dot {
    width: 8px;
    height: 8px;
    background-color: #0d6efd;
    border-radius: 50%;
}
.chart-wrapper { position: relative; }

/* Emergency Operations Widget */
.emergency-ops-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
    margin-bottom: 20px;
}
.ops-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 15px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
    background-color: #fff;
    font-size: 0.95rem;
    font-weight: 500;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s;
}
.ops-btn:hover { background-color: #f8f9fa; }
.ops-btn.emergency { background-color: #dc3545; color: #fff; border-color: #dc3545; }
.ops-btn.deploy { background-color: #0d6efd; color: #fff; border-color: #0d6efd; }
.ops-btn .material-icons-outlined { color: #6c757d; }
.ops-btn.emergency .material-icons-outlined,
.ops-btn.deploy .material-icons-outlined { color: #fff; }

/* Quick Stats */
.quick-stats { margin-top: 20px; border-top: 1px solid #eef0f3; padding-top: 20px; }
.quick-stats h4 { font-weight: 500; margin-bottom: 10px; }
.quick-stats ul { list-style: none; padding: 0; }
.quick-stats li { display: flex; justify-content: space-between; align-items: center; font-size: 0.9rem; color: #6c757d; padding: 8px 0; }
.quick-stats li strong { font-weight: 700; color: #212529; }

/* Incident Type Analysis Widget */
.incident-type-list { display: flex; flex-direction: column; gap: 15px; }
.incident-type-item { display: flex; flex-direction: column; }
.incident-type-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
.incident-type-header .type-name { font-weight: 500; font-size: 0.9rem; }
.incident-type-header .type-stats { font-size: 0.9rem; }
.type-stats .change { margin-right: 10px; }
.type-stats .change.positive { color: #4caf50; }
.type-stats .change.negative { color: #dc3545; }
.type-stats .total { font-weight: 700; color: #212529; }
.progress-bar { height: 6px; background-color: #e9ecef; border-radius: 3px; overflow: hidden; }
.progress-bar-fill { height: 100%; border-radius: 3px; }
.progress-bar-fill.theft-fraud { background-color: #dc3545; }
.progress-bar-fill.medical-emergency { background-color: #fd7e14; }
.progress-bar-fill.lost-stranded { background-color: #ffc107; }
.progress-bar-fill.harassment { background-color: #6f42c1; }
.progress-bar-fill.other { background-color: #6c757d; }
.widget-footer-note { font-size: 0.85rem; color: #6c757d; margin-top: 20px; text-align: center; }

/* Critical Events Widget */
.critical-events-widget { margin-top: 0; }
.view-all-btn-alt { text-decoration: none; font-weight: 500; color: #0d6efd; margin-right: 15px; }
.map-view-btn { display: inline-flex; align-items: center; gap: 8px; background-color: #0d6efd; color: #fff; padding: 8px 15px; border-radius: 6px; text-decoration: none; font-weight: 500; }
.critical-events-list { display: flex; flex-direction: column; }
.critical-event-item {
    display: grid;
    grid-template-columns: 1.2fr 1.2fr 1fr 1fr 0.8fr auto;
    align-items: center;
    padding: 15px 0;
    border-bottom: 1px solid #eef0f3;
}
.critical-event-item:last-child { border-bottom: none; }
.critical-event-item div { font-size: 0.9rem; }
.critical-event-item strong { display: block; font-weight: 500; color: #212529; margin-bottom: 2px; }
.critical-event-item span { color: #6c757d; }
.event-type-tag { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 0.8rem; font-weight: 500; color: #fff; }
.event-type-tag.medical-emergency { background-color: #dc3545; }
.event-type-tag.security-threat, .event-type-tag.theft { background-color: #343a40; }
.event-type-tag.tourist-assistance, .event-type-tag.lost-tourist, .event-type-tag.sos { background-color: #0d6efd; }
.event-status-tag { display: inline-block; padding: 3px 8px; border-radius: 10px; font-size: 0.8rem; font-weight: 500; }
.event-status-tag.responding { background-color: #ffebee; color: #dc3545; }
.event-status-tag.investigating { background-color: #fff8e1; color: #ffa000; }
.event-status-tag.contained { background-color: #e3f2fd; color: #0d6efd; }
.event-status-tag.resolved { background-color: #e8f5e9; color: #4caf50; }
.time-elapsed { color: #dc3545; font-weight: 700; }
.event-actions { display: flex; flex-direction: column; gap: 5px; }
.event-actions button {
    display: flex;
    align-items: center;
    gap: 5px;
    background: none;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 6px 10px;
    font-size: 0.85rem;
    cursor: pointer;
}

/* Responsiveness */
@media (max-width: 1400px) {
    .overview-grid { grid-template-columns: 1fr; }
}

@media (max-width: 1200px) {
    .critical-event-item {
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
    }
    .critical-event-item .event-actions {
       grid-column: 3 / 4;
       grid-row: 2 / 3;
       flex-direction: row;
    }
}

@media (max-width: 768px) {
    .main-content { padding: 15px; }
    .main-header { flex-direction: column; align-items: flex-start; }
    .header-status { width: 100%; justify-content: space-between; margin-top: 15px; }
    .critical-event-item {
        grid-template-columns: 1fr 1fr;
        gap: 15px;
    }
    .critical-event-item .event-actions {
        grid-column: 1 / -1;
        grid-row: auto;
        flex-direction: row;
        justify-content: flex-start;
    }
}


/* Media Query for Mobile Devices (768px and below) */
@media (max-width: 768px) {
    #menu-toggle {
        display: block;
    }

    .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        height: 100%;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        /* FINAL CHANGE: This z-index must be the highest value */
        z-index: 10000;
    }

    .sidebar.sidebar-visible {
        transform: translateX(0);
    }

    .main-header .search-bar {
        display: none;
    }

    .widget-grid {
        grid-template-columns: 1fr;
    }
}

/* --- Full Map Page Styles --- */
#map-page-content {
    padding: 0;
    display: flex;
    flex-direction: column;
}

#full-map {
    flex-grow: 1; /* This makes the map fill all available vertical space */
    width: 100%;
}


/* --- Alerts Page Styles --- */
.alert-filters {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.alert-filters label {
    font-weight: 500;
}

.alert-filters select {
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
    font-size: 1rem;
}

.alerts-table {
    width: 100%;
    border-collapse: collapse; /* Removes space between table cells */
}

.alerts-table th, .alerts-table td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid #f0f0f0;
}

.alerts-table th {
    font-weight: 500;
    color: #555;
}

.alerts-table tbody tr:hover {
    background-color: #f9f9f9;
}

/* Status Tag Styling */
.status-tag {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 500;
    color: #fff;
}

.status-sos { background-color: #d32f2f; } /* Red */
.status-theft { background-color: #7b1fa2; } /* Purple */
.status-high-traffic { background-color: #ffa000; } /* Amber */
.status-weather { background-color: #1976d2; } /* Blue */


/* --- Reports Page Styles --- */
.kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.kpi-card {
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    text-align: center;
}

.kpi-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: #0288D1;
}

.kpi-title {
    font-size: 1rem;
    color: #666;
    margin-top: 5px;
}

.report-charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

@media (max-width: 992px) {
    .report-charts-grid {
        grid-template-columns: 1fr;
    }
}


/* --- NEW Map Page Styles --- */
#map-page-content {
    padding: 20px;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.map-page-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 15px;
}

.map-title-section h2 { margin: 0; font-weight: 500; }
.map-title-section p { color: #666; }
.map-status-section { text-align: right; }
.status-dot { display: inline-block; width: 8px; height: 8px; background-color: #4caf50; border-radius: 50%; margin-right: 5px; }

.map-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    gap: 20px;
}
.map-search { width: 350px; }
.map-filters { display: flex; gap: 10px; }
.map-filters select, .map-filters .filter-btn {
    padding: 8px 15px;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    background-color: #fff;
}
.real-time-btn {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 8px 15px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}
.real-time-btn.active { background-color: #0d6efd; color: #fff; }

.map-page-container {
    display: grid;
    grid-template-columns: 3fr 1fr; /* 75% map, 25% sidebar */
    gap: 20px;
    flex-grow: 1;
    overflow: hidden;
}

.map-area { position: relative; }
#full-map { width: 100%; height: 100%; border-radius: 8px; }

.map-legend {
    position: absolute;
    bottom: 20px;
    left: 20px;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    z-index: 500;
}
.map-legend h4 { margin: 0 0 10px; }
.map-legend ul { list-style: none; margin: 0; padding: 0; }
.map-legend li { display: flex; align-items: center; margin-bottom: 5px; }
.dot { height: 10px; width: 10px; border-radius: 50%; margin-right: 10px; }
.dot.red { background-color: #f44336; }
.dot.blue { background-color: #2196f3; }
.dot.green { background-color: #4caf50; }
.dot.purple { background-color: #9c27b0; }

.right-sidebar {
    background-color: #fff;
    border-radius: 8px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
}

.right-sidebar .sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 10px;
    border-bottom: 1px solid #e0e0e0;
    margin-bottom: 15px;
}
.item-count { background-color: #eee; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }

.alert-card, .team-card {
    border: 1px solid #e0e0e0;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
}
.alert-card-header, .team-card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 5px; }
.alert-type { font-weight: 700; padding: 3px 8px; border-radius: 6px; color: #fff; }
.alert-type.sos { background-color: #d32f2f; }
.alert-type.theft { background-color: #333; }
.time-ago { font-size: 0.8rem; color: #888; }
.location-info { font-size: 0.9rem; color: #555; }
.respond-btn, .contact-btn {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    margin-top: 10px;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background-color: #f9f9f9;
    cursor: pointer;
}

.team-status { font-size: 0.8rem; padding: 3px 8px; border-radius: 6px; color: #fff; }
.team-status.available { background-color: #4caf50; }
.team-status.responding { background-color: #f44336; }
/* --- FINAL Pixel-Perfect Alerts Page Styles --- */
.main-header .header-title p { color: #666; margin-top: 5px; font-size: 1rem; }
.main-header .header-actions { display: flex; gap: 15px; }

#alerts-kpi-grid { margin-bottom: 20px; }
#alerts-kpi-grid .kpi-card {
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #fff;
    border: 1px solid #eef0f3;
}
#alerts-kpi-grid .kpi-icon-wrapper {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
}
#alerts-kpi-grid .kpi-value { font-size: 2rem; color: #212529; }
#alerts-kpi-grid .kpi-title { font-size: 0.9rem; color: #6c757d; }

.page-toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.page-toolbar .search-bar { width: 300px; background-color: #f8f9fa; border: 1px solid #eef0f3; }
.page-toolbar .search-bar input { background: none; }
.toolbar-filters { display: flex; align-items: center; gap: 10px; }
.toolbar-filters select, .toolbar-filters .filter-btn {
    padding: 10px 15px;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    background-color: #fff;
    font-weight: 500;
}
.toolbar-filters .export-btn {
    background-color: #1a233a;
    color: #fff;
    border: none;
    font-weight: 500;
}

.alerts-list-final { display: flex; flex-direction: column; gap: 15px; }
.alert-card-final {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    border: 1px solid #eef0f3;
}
.alert-card-header-final {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 20px;
    border-bottom: 1px solid #eef0f3;
    font-size: 0.9rem;
}
.alert-card-tag { font-weight: 700; padding: 3px 10px; border-radius: 12px; color: #fff; }
.alert-card-tag.sos { background-color: #d32f2f; }
.alert-card-tag.medical-emergency { background-color: #d32f2f; }
.alert-card-tag.theft { background-color: #333; }
.alert-card-tag.lost-tourist { background-color: #ffa000; }
.alert-card-tag.scam-report { background-color: #7b1fa2; }
.alert-card-status { font-weight: 500; padding: 3px 10px; border-radius: 12px; background-color: #eef0f3; color: #555; }
.alert-card-status.active { background-color: #ffebee; color: #d32f2f; }
.alert-card-status.responding { background-color: #fff8e1; color: #ffa000; }
.alert-card-status.investigating { background-color: #e3f2fd; color: #1976d2; }
.alert-card-status.resolved { background-color: #e8f5e9; color: #4caf50; }

.alert-card-body {
    display: grid;
    grid-template-columns: 1.5fr 1.5fr 1fr;
    gap: 20px;
    padding: 20px;
}
.alert-info-group { display: flex; align-items: center; gap: 15px; }
.alert-info-group .material-icons { color: #888; font-size: 20px; }
.alert-details h4 { margin: 0 0 2px; font-weight: 500; color: #212529; }
.alert-details span { font-size: 0.9rem; color: #6c757d; }

.alert-actions { display: flex; flex-direction: column; gap: 10px; align-items: flex-start; }
.alert-actions button {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 5px;
    font-weight: 500;
    color: #555;
    border-radius: 4px;
}
.alert-actions button:hover { background-color: #f1f1f1; }
.alert-actions button.primary-action {
    width: 100%;
    justify-content: center;
    padding: 10px;
    border-radius: 6px;
    font-weight: 500;
    color: #fff;
    border: 1px solid;
}
.primary-action.update-status-btn { background-color: #0d6efd; border-color: #0d6efd; }
.primary-action.emergency-response-btn { background-color: #d32f2f; border-color: #d32f2f; }

.alert-card-summary {
    padding: 15px 20px;
    border-top: 1px solid #eef0f3;
    font-size: 0.9rem;
    color: #666;
}


/* --- Basic Reset and Global Styles --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Roboto', sans-serif;
    background-color: #f4f7fc;
    color: #333;
    display: flex;
    height: 100vh;
    overflow: hidden; /* Prevents double scrollbars */
}

/* --- Main Layout --- */
.dashboard-container {
    display: flex;
    width: 100%;
    height: 100vh;
}

.sidebar {
    width: 260px;
    flex-shrink: 0; /* THIS IS THE FIX: Prevents the sidebar from shrinking */
    background-color: #1a233a;
    color: #aeb2b7;
    display: flex;
    flex-direction: column;
    padding: 20px 15px;
}

.main-content {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto; /* Allows only the main content to scroll */
    height: 100vh;
}

/* --- Sidebar Styles --- */
.sidebar-header {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    margin-bottom: 20px;
}
.sidebar-logo .material-icons-outlined, .sidebar-logo .material-icons { font-size: 40px; color: #4d82f5; }
.sidebar-title { margin-left: 15px; }
.sidebar-title h4 { color: #ffffff; font-weight: 500; margin: 0; }
.sidebar-title span { font-size: 0.8rem; }
.sidebar-links { list-style: none; flex-grow: 1; }
.sidebar-links li a {
    display: flex;
    align-items: center;
    color: #aeb2b7;
    text-decoration: none;
    padding: 15px;
    margin-bottom: 5px;
    border-radius: 8px;
    transition: background-color 0.3s ease, color 0.3s ease;
}
.sidebar-links li a .material-icons-outlined, .sidebar-links li a .material-icons { margin-right: 15px; font-size: 22px; }
.sidebar-links li a:hover { background-color: #2c3a5c; color: #ffffff; }
.sidebar-links li a.active { background-color: #0d6efd; color: #ffffff; }
.sidebar-footer { margin-top: auto; }
.hotline { display: flex; align-items: center; background-color: #2c3a5c; padding: 15px; border-radius: 8px; }
.hotline .material-icons-outlined, .hotline .material-icons { font-size: 32px; color: #ffffff; margin-right: 15px; }
.hotline-text span { display: block; font-size: 0.8rem; color: #aeb2b7; }
.hotline-text strong { color: #ffffff; font-weight: 500; }

/* --- Main Header Styles --- */
.main-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 20px;
    margin-bottom: 20px;
    border-bottom: 1px solid #eef0f3;
}
.main-header h1 { font-size: 1.8rem; font-weight: 500; }

/* --- WIDGET / CARD GENERAL STYLES --- */
.widget {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border: 1px solid #eef0f3;
}

/* --- KPI CARD GENERAL STYLES --- */
.kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}
.kpi-card {
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    border: 1px solid #eef0f3;
}
.kpi-value { font-size: 2.5rem; font-weight: 700; }
.kpi-title { font-size: 1rem; color: #6c757d; margin-top: 5px; }

/* --- FINAL ANALYTICS PAGE STYLES (ALL TABS) --- */
.main-header .header-title p { color: #6c757d; margin-top: 5px; font-size: 1rem; }
.main-header .header-actions { display: flex; gap: 10px; }
.date-range-btn, .export-btn { display: flex; align-items: center; gap: 8px; padding: 8px 16px; border: 1px solid #dee2e6; border-radius: 6px; background-color: #fff; cursor: pointer; font-weight: 500; font-size: 0.9rem; color: #495057; }
.export-btn { background-color: #1a233a; color: #fff; border-color: #1a233a; }

#analytics-kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 20px; }
#analytics-kpi-grid .kpi-card { display: flex; align-items: center; gap: 15px; padding: 20px; background-color: #fff; border: 1px solid #eef0f3; border-radius: 8px; }
.kpi-icon-wrapper { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 8px; }
.kpi-details { flex-grow: 1; }
.kpi-details .kpi-title { font-size: 0.9rem; color: #6c757d; margin-bottom: 4px; }
.kpi-details .kpi-value { font-size: 1.75rem; font-weight: 700; color: #212529; }
.kpi-change { font-weight: 500; font-size: 0.9rem; }
.kpi-change.positive { color: #4caf50; }
.kpi-change.negative { color: #f44336; }

.analytics-charts-grid { display: grid; grid-template-columns: 2fr 1.5fr; gap: 20px; margin-bottom: 20px; }
.chart-wrapper { position: relative; height: 300px; width: 100%; }
.category-chart-container { display: flex; align-items: center; gap: 20px; }
.category-legend { flex-grow: 1; }
.category-legend-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 0.9rem; }
.legend-label { display: flex; align-items: center; gap: 10px; }
.legend-dot { width: 10px; height: 10px; border-radius: 50%; }
.legend-text { font-weight: 500; }
.legend-value { font-weight: 700; }
.legend-change { font-size: 0.8rem; margin-left: 8px; }
.category-chart { min-width: 150px; }

.tourism-flow-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
.tourism-stats-widget h3 { border-bottom: 1px solid #eef0f3; padding-bottom: 15px; margin-bottom: 20px; }
.stats-kpi-group { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
.stats-kpi { background-color: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center; }
.stats-kpi .value { font-size: 1.75rem; font-weight: 700; color: #0d6efd; }
.stats-kpi .label { font-size: 0.9rem; color: #6c757d; }
.stats-list { list-style: none; padding: 0; margin: 0; }
.stats-list li { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #eef0f3; }
.stats-list li:last-child { border-bottom: none; }
.stats-list .value { font-weight: 700; }

.performance-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
.performance-table th, .performance-table td { padding: 15px; text-align: left; border-bottom: 1px solid #eef0f3; }
.performance-table th { font-weight: 500; color: #6c757d; }
.performance-table tbody tr:hover { background-color: #f8f9fa; }
.performance-tag { font-weight: 700; font-size: 0.8rem; padding: 4px 10px; border-radius: 12px; color: #fff; }
.performance-excellent { background-color: #1a233a; }
.performance-good { background-color: #4caf50; }
.performance-average { background-color: #ffa000; }

.team-charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

@media (max-width: 1200px) {
    #analytics-kpi-grid { grid-template-columns: 1fr 1fr; }
    .analytics-charts-grid { grid-template-columns: 1fr; }
}
@media (max-width: 992px) {
    .team-charts-grid { grid-template-columns: 1fr; }
    .tourism-flow-grid { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
    #analytics-kpi-grid { grid-template-columns: 1fr; }
}


/* --- FINAL Pixel-Perfect Communications Page Styles --- */
#communications-page {
    padding: 0;
    height: 100%;
    display: flex;
}
.chat-container {
    display: grid;
    grid-template-columns: 350px 1fr;
    width: 100%;
    height: 100%;
    background-color: #fff;
}

/* Conversation List (Left Panel) */
.conversation-list {
    display: flex;
    flex-direction: column;
    background-color: #fff;
    border-right: 1px solid #eef0f3;
}
.list-header { padding: 20px; border-bottom: 1px solid #eef0f3; }
.list-header h3 { display: flex; justify-content: space-between; align-items: center; margin: 0 0 15px; font-weight: 500; }
.list-header .search-bar { background-color: #f8f9fa; border: 1px solid #eef0f3; }
.conversations { flex-grow: 1; overflow-y: auto; }

.conversation-item {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 15px;
    padding: 15px 20px;
    cursor: pointer;
    border-bottom: 1px solid #eef0f3;
}
.conversation-item:hover { background-color: #f8f9fa; }
.conversation-item.active { background-color: #e3f2fd; border-right: 3px solid #0d6efd; }

.convo-icon { color: #555; }
.convo-details p { margin: 0; }
.convo-details .name { font-weight: 500; color: #212529; }
.convo-details .preview { font-size: 0.9rem; color: #6c757d; }
.convo-meta { text-align: right; }
.convo-meta .time { font-size: 0.8rem; color: #888; margin-bottom: 5px; }
.convo-meta .status-tag { font-size: 0.75rem; font-weight: 700; padding: 3px 8px; border-radius: 10px; }
.status-tag.active { background-color: #e8f5e9; color: #4caf50; }
.status-tag.waiting { background-color: #fff8e1; color: #ffa000; }
.status-tag.standby { background-color: #eceff1; color: #546e7a; }

.priority-tag { font-weight: 500; padding: 2px 8px; border-radius: 6px; color: #fff; font-size: 0.8rem; display: inline-flex; align-items: center; gap: 4px; }
.priority-tag.high { background-color: #dc3545; }
.priority-tag.medium { background-color: #6c757d; }
.priority-tag.low { background-color: #198754; }

.list-footer { padding: 15px; border-top: 1px solid #eef0f3; }
.new-conversation-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 12px;
    border: 1px solid #1a233a;
    border-radius: 8px;
    background-color: #1a233a;
    color: #fff;
    cursor: pointer;
    font-weight: 500;
}

/* Chat Window (Right Panel) */
.chat-window { display: flex; flex-direction: column; background-color: #f8f9fa; }
.chat-header { padding: 0 20px; border-bottom: 1px solid #eef0f3; background-color: #fff; }
.message-area { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
.empty-chat { margin: auto; text-align: center; color: #aaa; }
.empty-chat .material-icons-outlined { font-size: 4rem; }

.message { max-width: 60%; padding: 12px 18px; border-radius: 20px; line-height: 1.5; }
.message.outgoing {
    background-color: #0d6efd;
    color: #fff;
    align-self: flex-end;
    border-bottom-right-radius: 5px;
}
.message.incoming {
    background-color: #fff;
    color: #333;
    align-self: flex-start;
    border-bottom-left-radius: 5px;
    border: 1px solid #eef0f3;
}
.message-meta { font-size: 0.8rem; opacity: 0.7; margin-top: 8px; }

.message-input-area {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    border-top: 1px solid #eef0f3;
    background-color: #fff;
    gap: 10px;
}
.radio-select { border: 1px solid #ccc; border-radius: 6px; padding: 10px; }
.message-input-area input {
    flex-grow: 1;
    border: 1px solid #ccc;
    border-radius: 20px;
    padding: 10px 15px;
    font-size: 1rem;
}
.help-icon { color: #888; cursor: pointer; }


/* Modal Styles */
.modal-overlay {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}
.modal-overlay.show { display: flex; }
.modal-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 12px;
    width: 100%;
    max-width: 500px;
}
#add-alert-form { display: flex; flex-direction: column; gap: 15px; }
#add-alert-form input, #add-alert-form select, #add-alert-form textarea {
    width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem;
}
.modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }
.modal-actions button { padding: 10px 20px; border-radius: 6px; border: 1px solid #ccc; cursor: pointer; }
.modal-actions button[type="submit"] { background-color: #0d6efd; color: #fff; border-color: #0d6efd; }


/* --- Border and Layout Refinements --- */
.main-header {
    border-bottom: 1px solid #eef0f3;
    padding-bottom: 20px;
}

.page-toolbar {
    padding-bottom: 20px;
    border-bottom: 1px solid #eef0f3;
}

#alerts-kpi-grid {
    padding-bottom: 20px;
}


/* --- Final Button State Styles --- */
.primary-action.resolved-btn {
    background-color: #e8f5e9;
    color: #4caf50;
    border: 1px solid #c8e6c9;
    cursor: not-allowed;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}


/* --- New Alert Type Styles --- */
.alert-card-tag.lost-tourist, .status-lost-tourist { background-color: #ffa000; }
.alert-card-tag.scam-report, .status-scam-report { background-color: #7b1fa2; }
.alert-card-tag.public-disturbance, .status-public-disturbance { background-color: #546e7a; }
.alert-card-tag.vehicle-accident, .status-vehicle-accident { background-color: #0277bd; }

.alert-card-detailed .icon.lost-tourist { color: #ffa000; background-color: #fff8e1; }
.alert-card-detailed .icon.scam-report { color: #7b1fa2; background-color: #f3e5f5; }
.alert-card-detailed .icon.public-disturbance { color: #546e7a; background-color: #eceff1; }
.alert-card-detailed .icon.vehicle-accident { color: #0277bd; background-color: #e1f5fe; }


/* --- FINAL Emergency Response Page Styles --- */
#emergency-kpi-grid .kpi-card { display: flex; align-items: center; text-align: left; gap: 15px; border-left: 5px solid; }
.response-teams-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
.team-card-final { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border: 1px solid #eef0f3; }
.team-card-header { display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid #eef0f3;}
.team-card-body { padding: 15px; }
.team-card-body .info-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; color: #555; }
.team-card-body .info-row span { font-weight: 500; }
.team-card-footer { display: flex; gap: 10px; padding: 15px; border-top: 1px solid #eef0f3; }
.team-card-footer button { width: 100%; }

.protocol-widget { background-color: #fff; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
.protocol-widget h3 { display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #eef0f3; padding-bottom: 10px; margin: 0 0 15px; }
.protocol-steps { list-style: none; padding-left: 20px; }
.protocol-steps li { counter-increment: step-counter; margin-bottom: 10px; display: flex; align-items: center; }
.protocol-steps li::before { content: counter(step-counter); margin-right: 15px; font-weight: 700; background-color: #e3f2fd; color: #1976d2; border-radius: 50%; width: 28px; height: 28px; display: inline-flex; justify-content: center; align-items: center; }

.broadcast-form .form-group { margin-bottom: 15px; }
.broadcast-form label { display: block; font-weight: 500; margin-bottom: 5px; }
.broadcast-form select, .broadcast-form textarea { width: 100%; padding: 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; }
.broadcast-form textarea { height: 120px; resize: vertical; }
.broadcast-form .form-actions { display: flex; gap: 10px; margin-top: 20px; }
.send-broadcast-btn { background-color: #d32f2f; color: #fff; }
.test-broadcast-btn { background-color: #f1f1f1; }
/* --- FINAL Emergency Response Page Styles (Updated) --- */
#emergency-kpi-grid { margin-bottom: 20px; }
#emergency-kpi-grid .kpi-card {
    display: flex;
    align-items: center;
    text-align: left;
    gap: 15px;
    background-color: #fff;
    border: 1px solid #eef0f3;
}

#emergency-kpi-grid .kpi-icon-wrapper {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}
#emergency-kpi-grid .kpi-value { font-size: 2rem; }

/* KPI Specific Colors */
.kpi-active-emergencies .kpi-icon-wrapper { background-color: #ffebee; }
.kpi-active-emergencies .kpi-icon { color: #f44336; }
.kpi-response-teams .kpi-icon-wrapper { background-color: #e8f5e9; }
.kpi-response-teams .kpi-icon { color: #4caf50; }
.kpi-avg-response-time .kpi-icon-wrapper { background-color: #e3f2fd; }
.kpi-avg-response-time .kpi-icon { color: #2196f3; }
.kpi-system-status .kpi-icon-wrapper { background-color: #f3e5f5; }
.kpi-system-status .kpi-icon { color: #9c27b0; }

.tabs {
    display: flex;
    border-bottom: 1px solid #e0e0e0;
    margin-bottom: 20px;
}
.tab-link {
    padding: 15px 20px;
    cursor: pointer;
    border: none;
    background-color: transparent;
    border-bottom: 3px solid transparent;
    font-size: 1rem;
    color: #555;
}
.tab-link.active {
    border-bottom-color: #0d6efd;
    color: #0d6efd;
    font-weight: 500;
}

.tab-content { display: none; }
.tab-content.active { display: block; }

.emergency-card {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 20px;
    align-items: start;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    border-left: 5px solid;
    box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    margin-bottom: 15px;
}
.emergency-card.critical { border-left-color: #d32f2f; }
.emergency-card.high { border-left-color: #ffa000; }

.emergency-info-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
.emergency-type-tag { font-weight: 500; padding: 4px 10px; border-radius: 6px; color: #fff; font-size: 0.9rem; }
.medical-emergency { background-color: #d32f2f; }
.security-threat { background-color: #333; }
.emergency-id { font-size: 0.9rem; color: #888; }

.tourist-info strong, .location-info strong, .time-info strong {
    display: block;
    font-weight: 500;
    color: #333;
    margin-bottom: 2px;
}
.tourist-info span, .location-info span { font-size: 0.9rem; color: #666; }
.team-status-tag { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 0.8rem; color: #333; font-weight: 500; }
.in-progress { background-color: #e3f2fd; color: #1976d2; }
.dispatched { background-color: #fff8e1; color: #ffa000; }
.time-elapsed { color: #d32f2f; font-weight: 700; }

.actions-group { display: flex; flex-direction: column; gap: 10px; }
.actions-group button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
}
.call-btn-final { background-color: #d32f2f; color: #fff; border: none; }
.track-btn-final, .radio-btn-final { background-color: #f8f9fa; border: 1px solid #e0e0e0; color: #333; }
.update-status-dropdown { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
.resolve-btn { background-color: #e8f5e9; color: #4caf50; border: 1px solid #c8e6c9; }


/* --- Radio Contact Modal Styles --- */
.radio-modal-content {
    text-align: center;
    position: relative;
    overflow: hidden;
}

.radio-modal-content .radio-icon {
    font-size: 4rem;
    color: #4caf50;
}

.radio-modal-content h3 {
    margin: 10px 0 5px;
    font-weight: 500;
}

.radio-modal-content p {
    color: #666;
    margin-bottom: 25px;
}

#radio-disconnect-btn {
    width: 100%;
    padding: 12px;
    border: none;
    background-color: #d32f2f;
    color: white;
    font-size: 1rem;
    font-weight: 500;
    border-radius: 8px;
    cursor: pointer;
}

.radio-live-indicator {
    position: absolute;
    top: 15px;
    right: 15px;
    width: 12px;
    height: 12px;
    background-color: #d32f2f;
    border-radius: 50%;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(211, 47, 47, 0); }
    100% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); }
}


/* --- Final Emergency Broadcast & Contacts Styles --- */
.emergency-contacts { margin-top: 20px; }
.emergency-contacts h3 { margin-bottom: 15px; font-weight: 500; }
.contacts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.contact-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #fff;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
}
.contact-info strong { display: block; }
.contact-info span { color: #555; }
.contact-actions { display: flex; align-items: center; gap: 15px; }
.contact-actions .call-icon { cursor: pointer; color: #555; }

.toast-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #333;
    color: #fff;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    z-index: 10001;
    transform: translateX(120%);
    transition: transform 0.5s ease-in-out;
}
.toast-notification.show {
    transform: translateX(0);
}


/* --- NEW Tourism Flow Tab Styles --- */
.tourism-flow-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
}

.tourism-stats-widget h3 {
    border-bottom: 1px solid #eef0f3;
    padding-bottom: 15px;
    margin-bottom: 20px;
}

.stats-kpi-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}

.stats-kpi {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
}
.stats-kpi .value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #0d6efd;
}
.stats-kpi .label {
    font-size: 0.9rem;
    color: #6c757d;
}

.stats-list {
    list-style: none;
    padding: 0;
    margin: 0;
}
.stats-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #eef0f3;
}
.stats-list li:last-child {
    border-bottom: none;
}
.stats-list .value {
    font-weight: 700;
}


/* --- NEW Team Performance Tab Styles --- */
.performance-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}
.performance-table th, .performance-table td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid #eef0f3;
}
.performance-table th { font-weight: 500; color: #6c757d; }
.performance-table tbody tr:hover { background-color: #f8f9fa; }

.performance-tag {
    font-weight: 700;
    font-size: 0.8rem;
    padding: 4px 10px;
    border-radius: 12px;
    color: #fff;
}
.performance-excellent { background-color: #1a233a; }
.performance-good { background-color: #4caf50; }
.performance-average { background-color: #ffa000; }

.team-charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}
@media (max-width: 992px) {
    .team-charts-grid { grid-template-columns: 1fr; }
}


/* --- NEW Risk Assessment Tab Styles --- */
.risk-level-tag {
    font-weight: 700;
    font-size: 0.8rem;
    padding: 4px 10px;
    border-radius: 12px;
    color: #fff;
    text-align: center;
}
.risk-high { background-color: #d32f2f; }
.risk-medium { background-color: #ffa000; }
.risk-low { background-color: #4caf50; }


/* --- NEW Custom Dropdown Styles --- */
.dropdown {
    position: relative; /* This is the anchor for the menu */
}

.dropdown-menu {
    display: none; /* Hidden by default */
    position: absolute;
    top: 100%; /* Position it right below the button */
    left: 0;
    background-color: #fff;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    min-width: 160px;
    z-index: 100;
    margin-top: 5px;
}

.dropdown-menu.show {
    display: block; /* This class makes it visible */
}

.dropdown-item {
    display: block;
    padding: 10px 15px;
    text-decoration: none;
    color: #495057;
    font-size: 0.9rem;
}

.dropdown-item:hover {
    background-color: #f8f9fa;
}


/* --- FINAL Communications Page Styles --- */
.broadcast-content, .contacts-content, .translation-content { 
    padding: 20px; 
    overflow-y: auto; 
    /* This height assumes the chat-window is flex-grow */
    /* We need to make sure the tab-content fills the space */
    height: 100%; 
}

/* Make tab content fill the space, except for the header */
/* --- PASTE THIS AT THE END OF dashboard.css --- */


.chat-window .tab-content {
    flex-grow: 1;  /* <-- THIS IS THE MAIN FIX */
    overflow-y: auto;
    /* 'display: none' is already handled by the main .tab-content rule */
}

/* Special flex layout for the Active Chats tab */
.chat-window #active-chats-content {
    padding: 0; /* Remove padding from the wrapper */
}
.chat-window #active-chats-content.active {
    display: flex; /* Override the default 'display: block' */
    flex-direction: column;
}
.chat-window #active-chats-content .message-area {
    flex-grow: 1; /* Make the message area fill the remaining space */
    /* The existing padding: 20px from the .message-area rule will apply */
}

/* This rule creates the 2-column layout */
.chat-container {
    display: grid;
    grid-template-columns: 350px 1fr;
    width: 100%;
    height: 100%;
    background-color: #fff;
}

/* This rule stacks the header, content, and input form vertically */
.chat-window {
    display: flex;
    flex-direction: column;
    background-color: #f8f9fa;
}

/* --- END OF FIX --- */


.broadcast-form-widget { 
    background-color: #fff; 
    padding: 20px; 
    border-radius: 8px; 
    border: 1px solid #eef0f3; 
    margin-bottom: 20px; 
}
.broadcast-form-widget h3 { 
    margin: 0 0 15px; 
    font-weight: 500; 
}
.broadcast-form-widget .form-row { 
    display: grid; 
    grid-template-columns: 1fr 1fr 1fr; 
    gap: 15px; 
    margin-bottom: 15px; 
}
.broadcast-form-widget .form-group { 
    display: flex; 
    flex-direction: column; 
}
.broadcast-form-widget label { 
    font-size: 0.9rem; 
    color: #555; 
    margin-bottom: 5px; 
}
.broadcast-form-widget select, 
.broadcast-form-widget input,
.broadcast-form-widget textarea { 
    padding: 10px; 
    border-radius: 6px; 
    border: 1px solid #ccc; 
    font-size: 1rem;
    font-family: 'Roboto', sans-serif;
}
.broadcast-form-widget textarea {
    width: 100%;
    min-height: 100px;
    resize: vertical;
}

.broadcast-form-widget .form-actions { 
    display: flex; 
    gap: 10px; 
    margin-top: 15px; 
    justify-content: flex-end;
}
.broadcast-form-widget .save-draft-btn { 
    background-color: #f1f1f1; 
    border: 1px solid #ccc;
    color: #333;
    font-weight: 500;
}

.recent-broadcasts h3 { 
    margin: 20px 0 15px; 
    font-weight: 500; 
}
.broadcast-card { 
    background-color: #fff; 
    border-left: 4px solid; 
    padding: 15px; 
    border-radius: 8px; 
    margin-bottom: 10px; 
    border: 1px solid #eef0f3; 
}
.broadcast-card-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 5px; 
}
.broadcast-card-title { font-weight: 700; }
.delivered-tag { 
    font-size: 0.8rem; 
    background-color: #e8f5e9; 
    color: #4caf50; 
    padding: 3px 8px; 
    border-radius: 10px; 
    font-weight: 500;
}
.broadcast-card p { 
    margin: 0 0 10px; 
    color: #555; 
}
.broadcast-card-footer { 
    font-size: 0.8rem; 
    color: #888; 
}
.broadcast-weather-alert { border-left-color: #2196f3; }
.broadcast-security-advisory { border-left-color: #ffc107; }

.contacts-content .contacts-group { margin-bottom: 20px; }
.contacts-content h3 { font-weight: 500; margin-bottom: 15px; }
.contacts-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
}
.contact-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #fff;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
}
.contact-info strong { display: block; }
.contact-info span { color: #555; }
.contact-actions { display: flex; align-items: center; gap: 15px; }
.contact-actions .call-icon { cursor: pointer; color: #555; }
.contact-actions .team-status { font-size: 0.8rem; padding: 3px 8px; border-radius: 10px; }
.contact-actions .team-status.available { background-color: #e8f5e9; color: #4caf50; }


.translator-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
    gap: 15px; 
}
.translator-card { 
    background-color: #fff; 
    padding: 15px; 
    border-radius: 8px; 
    border: 1px solid #eef0f3; 
}
.translator-card-header { 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
    margin-bottom: 10px; 
}
.translator-language { 
    font-weight: 500; 
    display: flex; 
    align-items: center; 
    gap: 8px; 
}
.translator-card .status-tag { 
    font-size: 0.8rem; 
}
.translator-name { 
    color: #555; 
    margin-bottom: 15px; 
}
.connect-btn { 
    width: 100%; 
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background-color: #1a233a;
    color: #fff;
    border: none;
    font-weight: 500;
}

.quick-translation { margin-top: 0; }
.quick-translation .form-row { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 15px; 
}

@media (min-width: 992px) {
    .quick-translation .form-row {
        grid-template-columns: 1fr 1fr;
    }
}

/* --- New Contact Status Colors --- */
.contact-actions .team-status.available { 
    background-color: #e8f5e9; 
    color: #4caf50; 
}
.contact-actions .team-status.active { 
    background-color: #fff8e1; 
    color: #ffa000; 
}
.contact-actions .team-status.busy { 
    background-color: #ffebee; 
    color: #f44336; 
}


/* --- Corrected Translation Tab Styles --- */

/* This rule now only applies when the translation tab is active */
#translation-content.active {
    display: flex;
    flex-direction: column;
    gap: 20px; /* Adds space between the two widgets */
}

.translator-card .status-tag {
    font-size: 0.8rem;
    font-weight: 700;
    padding: 3px 8px;
    border-radius: 10px;
}

.quick-translation .form-group {
    display: flex;
    flex-direction: column;
    margin-bottom: 15px;
}
.quick-translation .form-group label {
    font-size: 0.9rem;
    color: #555;
    margin-bottom: 5px;
}
.quick-translation textarea {
    width: 100%;
    min-height: 100px;
    resize: vertical;
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1rem;
    font-family: 'Roboto', sans-serif;
}
.quick-translation #quick-translate-output {
    background-color: #f8f9fa;
    color: #555;
}

/* --- Shared Status Tag Colors --- */
.status-tag.available, .team-status.available { 
    background-color: #e8f5e9; 
    color: #4caf50; 
}
.status-tag.active, .team-status.active { 
    background-color: #fff8e1; 
    color: #ffa000; 
}
.status-tag.busy, .team-status.busy { 
    background-color: #ffebee; 
    color: #f44336; 
}
.status-tag.offline, .team-status.offline { 
    background-color: #eceff1; 
    color: #546e7a; 
}
.status-tag.standby {
    background-color: #eceff1; 
    color: #546e7a; 
}


/* --- CONSOLIDATED COMMUNICATIONS PAGE FIX (v3 FINAL) --- */

/* 1. Main Layout Rules (Ensures Sidebar is Visible) */
#communications-page {
    padding: 0;
    height: 100%;
    display: flex;
}
.chat-container {
    display: grid;
    grid-template-columns: 350px 1fr;
    width: 100%;
    height: 100%;
    background-color: #fff;
}
.chat-window {
    display: flex;
    flex-direction: column;
    background-color: #f8f9fa;
}

/* 2. Tab Content Visibility & Flex Layout */
.chat-window .tab-content {
    flex-grow: 1;  
    overflow-y: auto;
    /* This relies on the main .tab-content { display: none; } */
}
.chat-window #active-chats-content.active {
    display: flex; 
    flex-direction: column;
}
.chat-window #active-chats-content .message-area {
    flex-grow: 1; 
}

/* 3. Broadcast Tab Styles (FIXED: Added display: flex) */
#broadcast-content.active {
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 20px; /* Adds space between the form and the recent list */
}
.broadcast-form-widget { 
    background-color: #fff; 
    padding: 20px; 
    border-radius: 8px; 
    border: 1px solid #eef0f3; 
    flex-shrink: 0; /* Prevents form from shrinking */
}
.broadcast-form-widget h3 { margin: 0 0 15px; font-weight: 500; }
.broadcast-form-widget .form-row { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
    gap: 15px; 
    margin-bottom: 15px; 
}
.broadcast-form-widget .form-group { display: flex; flex-direction: column; }
.broadcast-form-widget label { font-size: 0.9rem; color: #555; margin-bottom: 5px; }
.broadcast-form-widget select, 
.broadcast-form-widget input,
.broadcast-form-widget textarea { 
    padding: 10px; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; font-family: 'Roboto', sans-serif;
}
.broadcast-form-widget textarea { width: 100%; min-height: 100px; resize: vertical; }
.broadcast-form-widget .form-actions { display: flex; gap: 10px; margin-top: 15px; justify-content: flex-end; }
.broadcast-form-widget .save-draft-btn { background-color: #f1f1f1; border: 1px solid #ccc; color: #333; font-weight: 500; }
.recent-broadcasts h3 { margin: 0 0 15px; font-weight: 500; } /* Removed top margin */
.broadcast-card { 
    background-color: #fff; border-left: 4px solid; padding: 15px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #eef0f3; 
    flex-shrink: 0;
}
.broadcast-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
.broadcast-card-title { font-weight: 700; }
.delivered-tag { font-size: 0.8rem; background-color: #e8f5e9; color: #4caf50; padding: 3px 8px; border-radius: 10px; font-weight: 500; }
.broadcast-card p { margin: 0 0 10px; color: #555; }
.broadcast-card-footer { font-size: 0.8rem; color: #888; }
.broadcast-weather-alert { border-left-color: #2196f3; }
.broadcast-security-advisory { border-left-color: #ffc107; }
.broadcast-emergency-alert { border-left-color: #f44336; }

/* 4. Contacts Tab Styles (FIXED: Added display: flex) */
#contacts-content.active {
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 20px; /* Adds space between contact group widgets */
}
.contacts-content .contacts-group { 
    margin-bottom: 0; /* Gap handles the spacing */
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
    flex-shrink: 0;
}
.contacts-content h3 { font-weight: 500; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eef0f3;}
.contacts-grid {
    display: grid;
    grid-template-columns: 1fr; /* Single column layout */
    gap: 15px;
}
.contact-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #fff;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
}
.contact-info strong { display: block; }
.contact-info span { color: #555; }
.contact-actions { display: flex; align-items: center; gap: 15px; }
.contact-actions .call-icon { cursor: pointer; color: #555; }
.contact-actions .team-status { font-size: 0.8rem; padding: 3px 8px; border-radius: 10px; }

/* 5. Translation Tab Styles (Correct) */
#translation-content.active {
    display: flex;
    flex-direction: column;
    gap: 20px; 
    padding: 20px;
}
.translator-card .status-tag {
    font-size: 0.8rem;
    font-weight: 700;
    padding: 3px 8px;
    border-radius: 10px;
}
.quick-translation .form-group {
    display: flex;
    flex-direction: column;
    margin-bottom: 15px;
}
.quick-translation .form-group label {
    font-size: 0.9rem;
    color: #555;
    margin-bottom: 5px;
}
.quick-translation textarea {
    width: 100%;
    min-height: 100px;
    resize: vertical;
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1rem;
    font-family: 'Roboto', sans-serif;
}
.quick-translation #quick-translate-output {
    background-color: #f8f9fa;
    color: #555;
}
.translator-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
    gap: 15px; 
}
.translator-card { 
    background-color: #fff; 
    padding: 15px; 
    border-radius: 8px; 
    border: 1px solid #eef0f3; 
}
.translator-card-header { 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
    margin-bottom: 10px; 
}
.translator-language { font-weight: 500; display: flex; align-items: center; gap: 8px; }
.translator-name { color: #555; margin-bottom: 15px; }
.connect-btn { 
    width: 100%; 
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background-color: #1a233a;
    color: #fff;
    border: none;
    font-weight: 500;
}


/* 6. Shared Status Tag Colors (This makes all statuses work) */
.status-tag.available, .team-status.available { 
    background-color: #e8f5e9; 
    color: #4caf50; 
}
.status-tag.active, .team-status.active { 
    background-color: #fff8e1; 
    color: #ffa000; 
}
.status-tag.busy, .team-status.busy { 
    background-color: #ffebee; 
    color: #f44336; 
}
.status-tag.offline, .team-status.offline { 
    background-color: #eceff1; 
    color: #546e7a; 
}
.status-tag.standby, .team-status.standby {
    background-color: #eceff1; 
    color: #546e7a; 
}
.status-tag.waiting {
    background-color: #fff8e1; 
    color: #ffa000;
}


#broadcast-content.active {
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 20px; 
}


/* --- NEW: REPORTS PAGE STYLES --- */

#reports-page-content {
    padding-top: 20px;
}

.reports-kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.reports-kpi-card {
    display: flex;
    align-items: center;
    gap: 20px;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
}

.reports-kpi-card .kpi-icon-box {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    flex-shrink: 0;
}
.reports-kpi-card .kpi-icon-box .material-icons-outlined {
    font-size: 28px;
}

/* KPI Icon Colors */
.icon-reports { background-color: #e3f2fd; color: #2196f3; }
.icon-month { background-color: #e8f5e9; color: #4caf50; }
.icon-time { background-color: #f3e5f5; color: #9c27b0; }
.icon-downloads { background-color: #fff3e0; color: #fb8c00; }

.reports-kpi-card .kpi-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #212529;
}
.reports-kpi-card .kpi-title {
    font-size: 0.9rem;
    color: #6c757d;
}

.reports-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    padding: 15px;
    background-color: #fff;
    border-radius: 8px;
    border: 1px solid #eef0f3;
    margin-bottom: 20px;
}

.reports-toolbar .search-reports {
    width: 350px;
    background-color: #f8f9fa;
    border: 1px solid #eef0f3;
    padding: 10px 15px;
    display: flex;
    align-items: center;
    border-radius: 6px;
}
.reports-toolbar .search-reports .material-icons-outlined {
    color: #888;
    margin-right: 10px;
}
.reports-toolbar .search-reports input {
    border: none;
    outline: none;
    background: none;
    width: 100%;
    font-size: 0.95rem;
}

.reports-toolbar .toolbar-actions {
    display: flex;
    align-items: center;
    gap: 15px;
}

.reports-toolbar select {
    padding: 10px 15px;
    border-radius: 6px;
    border: 1px solid #dee2e6;
    background-color: #fff;
    font-size: 0.9rem;
    font-weight: 500;
    color: #495057;
}

.btn-filter, .btn-generate-main {
    padding: 10px 15px;
    border-radius: 6px;
    border: 1px solid #dee2e6;
    background-color: #fff;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    color: #495057;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-generate-main {
    background-color: #1a233a;
    color: #fff;
    border-color: #1a233a;
}
.btn-generate-main .material-icons-outlined {
    font-size: 20px;
}

.report-card-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.report-card {
    background-color: #fff;
    padding: 25px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
    display: flex;
    flex-direction: column;
}

.report-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}
.report-card-header h4 {
    font-size: 1.1rem;
    font-weight: 500;
    color: #212529;
}

.report-tag {
    font-size: 0.8rem;
    font-weight: 500;
    padding: 4px 10px;
    border-radius: 12px;
    text-transform: capitalize;
}
.tag-incident { background-color: #ffebee; color: #d32f2f; }
.tag-analysis { background-color: #e3f2fd; color: #1976d2; }
.tag-tourism { background-color: #f3e5f5; color: #8e24aa; }
.tag-performance { background-color: #e8f5e9; color: #43a047; }
.tag-risk { background-color: #fff8e1; color: #ffa000; }

.report-card p {
    color: #6c757d;
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 20px;
    flex-grow: 1;
}

.report-meta {
    display: grid;
    grid-template-columns: 1fr 1fr 1.5fr;
    gap: 15px;
    padding: 15px 0;
    border-top: 1px solid #eef0f3;
    border-bottom: 1px solid #eef0f3;
    margin-bottom: 20px;
}
.report-meta div span {
    display: block;
    font-size: 0.9rem;
    color: #6c757d;
    margin-bottom: 4px;
}
.report-meta div strong {
    font-size: 0.95rem;
    font-weight: 500;
    color: #212529;
}

.report-actions {
    display: flex;
    align-items: center;
    gap: 15px;
}
.btn-generate {
    background-color: #1a233a;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
}
.btn-download-latest {
    background: none;
    border: none;
    color: #0d6efd;
    font-weight: 500;
    font-size: 0.9rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
}
.btn-download-latest .material-icons-outlined {
    font-size: 20px;
}

/* Responsive Grid for Reports */
@media (max-width: 1200px) {
    .report-card-grid {
        grid-template-columns: 1fr;
    }
}
@media (max-width: 768px) {
    .reports-toolbar {
        flex-direction: column;
        align-items: stretch;
    }
    .reports-toolbar .search-reports {
        width: 100%;
    }
    .reports-toolbar .toolbar-actions {
        flex-direction: column;
        align-items: stretch;
    }
    .reports-toolbar select, .reports-toolbar button {
        width: 100%;
        justify-content: center;
    }
}


/* --- NEW: CUSTOM REPORTS TAB STYLES --- */

.custom-report-form-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-top: 20px;
}

.custom-report-form-grid .form-group {
    display: flex;
    flex-direction: column;
}
.custom-report-form-grid .form-group label {
    font-size: 0.9rem;
    color: #555;
    margin-bottom: 5px;
}
.custom-report-form-grid select {
    padding: 10px 15px;
    border-radius: 6px;
    border: 1px solid #dee2e6;
    background-color: #f8f9fa; /* Lighter background for dropdown */
    font-size: 0.9rem;
    font-weight: 500;
    color: #495057;
}

.custom-report-actions {
    display: flex;
    gap: 15px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #eef0f3;
}
.custom-report-actions .btn-generate {
    display: flex;
    align-items: center;
    gap: 8px;
}
.custom-report-actions .btn-download-latest {
    background-color: #f1f1f1;
    border: 1px solid #dee2e6;
    color: #333;
}

.section-title-header {
    font-size: 1.25rem;
    font-weight: 500;
    margin-top: 30px;
    margin-bottom: 15px;
}

.custom-report-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.custom-report-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #eef0f3;
}

.custom-report-details {
    flex-grow: 1;
}

.custom-report-card-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 8px;
}
.custom-report-card-header h4 {
    font-size: 1.1rem;
    font-weight: 500;
    color: #212529;
}

.custom-report-card p {
    color: #6c757d;
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 20px;
}

.custom-report-meta {
    display: grid;
    grid-template-columns: 1fr 1.5fr 1fr;
    gap: 20px;
}
.custom-report-meta div span {
    display: block;
    font-size: 0.9rem;
    color: #6c757d;
    margin-bottom: 4px;
}
.custom-report-meta div strong {
    font-size: 0.95rem;
    font-weight: 500;
    color: #212529;
}

.custom-report-card-actions {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 10px;
    flex-shrink: 0;
}

/* New Tag Colors */
.tag-completed {
    background-color: #e8f5e9;
    color: #43a047;
}
.tag-processing {
    background-color: #e3f2fd;
    color: #1976d2;
}


/* --- REPORTS BUTTON LOADING STATE --- */

.btn-generate:disabled {
    background-color: #6c757d; /* Gray out the button */
    border-color: #6c757d;
    cursor: not-allowed;
}


/* === ADD THIS ENTIRE BLOCK TO THE END OF DASHBOARD.CSS === */

/* General Body & Layout Overrides */
body {
    background-color: #f0f2f5;
}
.main-content {
    padding: 25px;
}
.widget {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid #eef0f3;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    margin-bottom: 20px;
}
.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    border-bottom: none;
    padding-bottom: 0;
}
.widget-header h4 { font-size: 1.1rem; font-weight: 500; margin: 0; display: flex; align-items: center; gap: 8px;}
.widget-header p { font-size: 0.9rem; color: #6c757d; margin: 4px 0 0; }

/* Main Header */
.main-header {
    border-bottom: none;
    padding-bottom: 0;
    margin-bottom: 25px;
}
.header-status { display: flex; align-items: center; gap: 8px; color: #6c757d; }
.header-status .status-dot { width: 8px; height: 8px; background-color: #4caf50; border-radius: 50%; }
.header-status .last-updated { margin-left: 15px; }

/* Command Center Widget */
.command-center-widget { display: flex; align-items: center; gap: 20px; }
.command-center-info { flex-grow: 1; }
.command-center-info h3 { font-size: 1.2rem; font-weight: 500; }
.command-center-info p { font-size: 0.9rem; color: #6c757d; }
.active-emergencies-text { color: #dc3545; font-weight: 500; }
.threat-level { background-color: #fff8e1; color: #ffa000; padding: 8px 12px; border-radius: 20px; font-weight: 500; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; }
.emergency-protocol-btn { background-color: #ffebee; color: #dc3545; border: 1px solid #ffcdd2; padding: 10px 15px; border-radius: 8px; font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: 8px; }

/* Live Emergencies Widget */
.live-emergencies-widget .widget-header h4 { color: #dc3545; }
.live-indicator { width: 10px; height: 10px; background-color: #dc3545; border-radius: 50%; animation: pulse 1.5s infinite; }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); } 70% { box-shadow: 0 0 0 8px rgba(220, 53, 69, 0); } 100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); } }
.active-count { background-color: #dc3545; color: #fff; padding: 4px 8px; font-size: 0.8rem; border-radius: 6px; font-weight: 500; }
.live-emergency-item { display: flex; align-items: center; gap: 15px; padding: 15px; border: 1px solid #eef0f3; border-radius: 10px; }
.live-emergency-item + .live-emergency-item { margin-top: 15px; }
.emergency-details { display: grid; grid-template-columns: 1.5fr 1fr 1.5fr; gap: 15px; flex-grow: 1; align-items: center; }
.emergency-details div strong { display: block; font-weight: 500; color: #212529; }
.emergency-details div span { color: #6c757d; font-size: 0.9rem; }
.emergency-type { font-weight: 500; padding: 4px 10px; border-radius: 12px; color: #fff; font-size: 0.8rem; display: inline-block; }
.type-medical-emergency, .type-sos { background-color: #dc3545; }
.type-lost-tourist, .type-tourist-missing { background-color: #fd7e14; }
.emergency-status { font-weight: 500; font-size: 0.8rem; text-transform: uppercase; }
.emergency-time { font-weight: 700; color: #dc3545; }
.emergency-actions { display: flex; gap: 10px; }
.emergency-actions button { background: none; border: 1px solid #dee2e6; border-radius: 50%; width: 36px; height: 36px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.emergency-actions .dispatch-btn { background-color: #dc3545; color: #fff; border: none; width: auto; padding: 0 15px; border-radius: 6px; font-weight: 500; }
.emergency-actions .material-icons-outlined { font-size: 20px; }

/* KPI Grid */
.kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 20px; }
.kpi-card-small { background-color: #fff; padding: 20px; border-radius: 12px; border: 1px solid #eef0f3; }
.kpi-card-small h4 { font-weight: 500; color: #6c757d; font-size: 0.95rem; margin-bottom: 8px; }
.kpi-value { display: flex; align-items: baseline; gap: 10px; }
.kpi-value span:first-child { font-size: 2rem; font-weight: 700; color: #212529; }
.kpi-change { font-size: 0.9rem; font-weight: 500; }
.kpi-change.positive { color: #dc3545; }
.kpi-change.positive-green { color: #4caf50; }
.kpi-subtext { color: #6c757d; font-size: 0.9rem; }
.kpi-subtext.green { color: #4caf50; }

/* Middle Grid */
.middle-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
.command-control-widget .widget-header h4 .material-icons-outlined { color: #0d6efd; }
.command-control-body { display: flex; flex-direction: column; gap: 10px; }
.command-control-body h5 { font-weight: 500; margin: 10px 0 5px; }
.search-group { display: flex; }
.search-group input { flex-grow: 1; border: 1px solid #dee2e6; padding: 10px; border-radius: 6px 0 0 6px; outline: none; }
.search-group button { border: none; background-color: #0d6efd; color: #fff; padding: 0 12px; border-radius: 0 6px 6px 0; cursor: pointer; }
.command-control-body select, .command-control-body textarea { width: 100%; border: 1px solid #dee2e6; padding: 10px; border-radius: 6px; font-family: 'Roboto'; }
.command-control-body textarea { resize: vertical; min-height: 60px; }
.broadcast-btn { background-color: #dc3545; color: #fff; border: none; padding: 12px; border-radius: 6px; font-weight: 500; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; }
.command-control-footer { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; border-top: 1px solid #eef0f3; padding-top: 20px; }
.command-control-footer button { background: #f8f9fa; border: 1px solid #eef0f3; padding: 10px; border-radius: 6px; display: flex; align-items: center; justify-content: center; gap: 8px; font-weight: 500; cursor: pointer; }

/* Available Teams Widget */
.available-teams-widget .widget-header h4 .material-icons-outlined { color: #4caf50; }
.available-count { background-color: #e8f5e9; color: #4caf50; padding: 4px 8px; font-size: 0.8rem; border-radius: 6px; font-weight: 500; }
.available-teams-list { display: flex; flex-direction: column; gap: 10px; }
.team-item { display: flex; align-items: center; gap: 15px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; }
.team-info { flex-grow: 1; }
.team-info strong { display: block; font-weight: 500; }
.team-info span { font-size: 0.85rem; color: #6c757d; }
.team-actions { display: flex; gap: 8px; }
.team-actions button { background: none; border: 1px solid #dee2e6; border-radius: 50%; width: 32px; height: 32px; cursor: pointer; display: flex; align-items: center; justify-content: center;}
.team-actions .deploy-btn { background-color: #4caf50; color: #fff; border: none; width: auto; padding: 0 15px; border-radius: 6px; height: 32px; font-weight: 500; }
.view-all-teams-btn { background: none; border: 1px solid #dee2e6; width: 100%; padding: 12px; border-radius: 8px; margin-top: 20px; font-weight: 500; cursor: pointer; }

/* Notifications Widget */
.notifications-widget .widget-header h4 .material-icons-outlined { color: #ffa000; }
.refresh-btn { background: none; border: 1px solid #dee2e6; padding: 8px; border-radius: 6px; cursor: pointer; display: flex; align-items: center; }
.notifications-list { display: flex; flex-direction: column; gap: 15px; }
.notification-item { display: flex; align-items: center; gap: 15px; padding: 15px; border-radius: 8px; border-left: 4px solid; }
.notification-item.weather { border-color: #2196f3; background-color: #e3f2fd; }
.notification-item.capacity { border-color: #ffc107; background-color: #fff8e1; }
.notification-item.system { border-color: #6c757d; background-color: #eceff1; }
.notification-tag { font-weight: 500; text-transform: capitalize; font-size: 0.8rem; }
.notification-info { flex-grow: 1; }
.notification-info p { margin: 0; font-weight: 500; }
.notification-info span { font-size: 0.85rem; color: #6c757d; }
.notification-action { background-color: #343a40; color: #fff; border: none; padding: 10px 15px; border-radius: 6px; font-weight: 500; cursor: pointer; }



